{"version":3,"sources":["../../src/components/touch-nav-item.js"],"names":[],"mappings":";;;;;;;;;;AAAA,IAAM,QAAQ,QAAQ,OAAR,CAAR;IACA,IAAQ,QAAQ,aAAR,CAAR;;AAEN,EAAE,IAAF,GAAS,QAAQ,aAAR,CAAT;;AAEA,IAAI,SAAS,QAAQ,oBAAR,CAAT;IACG,YAAoC,OAAO,UAAP;IAAzB,aAA4C,OAAO,WAAP;IAAhC,UAAoD,OAAO,OAAP;;;;AAIlF,IAAM,aAAa,QAAQ,wBAAR,CAAb;IACA,WAAa,QAAQ,qBAAR,CAAb;;IAGA;;;AACH,WADG,YACH,CAAY,KAAZ,EAAmB;0BADhB,cACgB;;;;uEADhB,yBAEI,QADY;;AAGlB,UAAK,OAAL,GAAe,CAAC,eAAD,EAAkB,EAAC,UAAS,MAAK,KAAL,CAAW,QAAX,CAAoB,MAApB,EAA5B,CAAf,CAHkB;AAIlB,UAAK,KAAL,GAAa,EAAC,MAAK,MAAK,UAAL,CAAgB,MAAK,OAAL,CAArB,EAAd,CAJkB;;GAAnB;;eADG;;0CAQkB,WAAW,WAAU;AACzC,aAAO,SAAC,CAAU,QAAV,CAAmB,MAAnB,KAA8B,KAAK,KAAL,CAAW,QAAX,CAAoB,MAApB,IAA+B,UAAU,IAAV,KAAmB,KAAK,KAAL,CAAW,IAAX,CAD/C;;;;8CAIjB,WAAU;AAClC,WAAK,OAAL,GAAe,CAAC,eAAD,EAAkB,EAAC,UAAS,UAAU,QAAV,CAAmB,MAAnB,EAA5B,CAAf,CADkC;AAElC,WAAK,QAAL,CAAc,EAAC,MAAK,KAAK,UAAL,CAAgB,KAAK,OAAL,CAArB,EAAf,EAFkC;;;;6BAK3B,GAAE;AACT,QAAE,cAAF,GADS;;AAGT,UAAI,OAAO,KAAK,KAAL,CAAW,QAAX,CAHF;AAIT,UAAI,KAAK,KAAK,KAAL,CAAW,QAAX,CAJA;AAKT,UAAI,OAAO,EAAE,IAAF,CAAO,IAAP,EAAa,OAAb,CAAP,CALK;AAMT,UAAG,QAAQ,SAAR,CAAkB,IAAlB,CAAH,EAA2B;AACzB,mBAAW,YAAX,CAAwB,KAAK,KAAL,CAAW,QAAX,CAAoB,EAApB,EAAwB,KAAK,KAAL,CAAW,MAAX,CAAhD,CADyB;AAEzB,YAAG,EAAE,UAAF,CAAa,EAAb,CAAH,EAAoB;AAClB,aAAG,KAAH,CAAS,IAAT,EAAe,EAAE,MAAF,CAAS,IAAT,CAAf,EADkB;SAApB;OAFF;;;;8BASQ,SAAQ;AAChB,aACE;;UAAG,MAAK,GAAL;AACA,iBAAO,QAAQ,KAAR;AACP,mBAAS,KAAK,QAAL,CAAc,IAAd,CAAmB,IAAnB,CAAT;AACA,qBAAU,oBAAV,EAHH;QAIK,QAAQ,IAAR;OALP,CADgB;;;;8BAYP,SAAQ;AACjB,aACE;;UAAG,MAAM,QAAQ,IAAR;AACN,iBAAO,QAAQ,KAAR;AACP,qBAAU,oBAAV,EAFH;QAGI,QAAQ,IAAR;OAJN,CADiB;;;;gCAUP,SAAQ;AAClB,aAAO,CAAC,CAAE,GAAF,CAAM,OAAN,EAAe,MAAf,CAAD,GAA2B,KAAK,SAAL,CAAe,OAAf,CAA3B,GAAqD,KAAK,SAAL,CAAe,OAAf,CAArD,CADW;;;;6BAKZ;AACN,UAAI,UAAU,KAAK,KAAL,CAAW,QAAX,CADR;AAEN,aACE;;UAAI,MAAK,cAAL,EAAoB,WAAW,KAAK,KAAL,CAAW,IAAX,EAAnC;QACG,KAAK,WAAL,CAAiB,OAAjB,CADH;OADF,CAFM;;;;SA3DJ;EAAqB,MAAM,SAAN;;AAqE3B,OAAO,MAAP,CAAc,aAAa,SAAb,EAAwB,SAAtC;AACA,OAAO,MAAP,CAAc,aAAa,SAAb,EAAwB,UAAtC;;;AAIA,OAAO,OAAP,GAAiB,YAAjB","file":"touch-nav-item.js","sourcesContent":["const React = require(\"react\")\n    , _     = require(\"lodash/core\");\n\n_.omit = require(\"lodash/omit\");\n//Mixins\nlet mixins = require(\"morse-react-mixins\");\nconst [cssMixins, textMixins, checker]  = [mixins.css_mixins, mixins.text_mixins, mixins.checker];\n\n\n//Flux\nconst NavActions = require(\"../actions/nav_actions\")\n    , NavStore   = require(\"../stores/nav_store\");\n\n\nclass TouchNavItem extends React.Component {\n   constructor(props) {\n    super(props);\n    // console.log('props', this.props.nav_item);\n    this.listCss = [\"date-nav-item\", {\"active\":this.props.nav_item.active}]\n    this.state = {list:this.getClasses(this.listCss)};\n  }\n\n  shouldComponentUpdate(nextProps, nextState){\n    return (nextProps.nav_item.active !== this.props.nav_item.active) || nextState.list !== this.state.list\n  }\n\n  componentWillReceiveProps(nextProps){\n    this.listCss = [\"date-nav-item\", {\"active\":nextProps.nav_item.active}];\n    this.setState({list:this.getClasses(this.listCss)});\n  }\n\n  _clicked(e){\n    e.preventDefault();\n\n    let item = this.props.nav_item;\n    let cb = this.props.callback;\n    let data = _.omit(item, 'title');\n    if(checker.isMounted(this)){\n      NavActions.changeActive(this.props.nav_item.id, this.props.nav_id)\n      if(_.isFunction(cb)){\n        cb.apply(this, _.values(data));\n      }\n    }\n\n  }\n\n  _internal(navitem){\n    return(\n      <a href=\"#\"\n         title={navitem.title}\n         onClick={this._clicked.bind(this)}\n         className=\"date-nav-item-link\">\n          {navitem.name}\n      </a>\n    )\n\n  }\n\n   _external(navitem){\n    return (\n      <a href={navitem.href}\n         title={navitem.title}\n         className=\"date-nav-item-link\">\n         {navitem.name}\n      </a>\n    )\n  }\n\n  _renderLink(navitem){\n    return (_.has(navitem, \"href\")) ? this._external(navitem) : this._internal(navitem);\n  }\n\n\n  render(){\n    let navitem = this.props.nav_item\n    return (\n      <li role=\"presentation\" className={this.state.list}>\n        {this._renderLink(navitem)}\n      </li>\n    );\n  }\n}\n\nObject.assign(TouchNavItem.prototype, cssMixins);\nObject.assign(TouchNavItem.prototype, textMixins);\n// Object.assign(TouchNavItem.prototype, checker);\n\n\nmodule.exports = TouchNavItem;"]}