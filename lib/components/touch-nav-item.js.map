{"version":3,"sources":["../../src/components/touch-nav-item.js"],"names":["React","_","omit","checker","css_mixins","cssMixins","text_mixins","textMixins","NavActions","NavStore","TouchNavItem","props","listCss","nav_item","active","state","list","getClasses","nextProps","nextState","setState","e","preventDefault","item","cb","callback","data","isMounted","changeActive","id","nav_id","isFunction","apply","values","navitem","title","_clicked","bind","name","href","has","_external","_internal","_renderLink","Component","Object","assign","prototype"],"mappings":"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","file":"touch-nav-item.js","sourcesContent":[" import React from 'react';\n import _ from 'lodash/core';\n\n import omit from 'lodash/omit';\n _.omit = omit;\n// Mixins\nimport {\n  checker\n  , css_mixins as cssMixins\n  , text_mixins as textMixins\n} from 'morse-react-mixins';\n\n// Flux\nimport NavActions from '../actions/nav_actions';\nimport NavStore from '../stores/nav_store';\n\nclass TouchNavItem extends React.Component{\n   constructor(props){\n    super(props);\n    // console.log('props', this.props.nav_item);\n    this.listCss = ['date-nav-item', {'active': this.props.nav_item.active}];\n    this.state = {list: this.getClasses(this.listCss)};\n  }\n\n  shouldComponentUpdate(nextProps, nextState){\n    return (nextProps.nav_item.active !== this.props.nav_item.active) ||\n      nextState.list !== this.state.list;\n  }\n\n  componentWillReceiveProps(nextProps){\n    this.listCss = ['date-nav-item', {'active': nextProps.nav_item.active}];\n    this.setState({list: this.getClasses(this.listCss)});\n  }\n\n  _clicked(e){\n    e.preventDefault();\n\n    let item = this.props.nav_item;\n    let cb = this.props.callback;\n    let data = _.omit(item, 'title');\n    if (checker.isMounted(this)){\n      NavActions.changeActive(this.props.nav_item.id, this.props.nav_id);\n      if (_.isFunction(cb)){\n        cb.apply(this, _.values(data));\n      }\n    }\n  }\n\n  _internal(navitem){\n    return (\n      <a href=\"#\"\n         title={navitem.title}\n         onClick={this._clicked.bind(this)}\n         className=\"date-nav-item-link\">\n          {navitem.name}\n      </a>\n    );\n  }\n\n   _external(navitem){\n    return (\n      <a href={navitem.href}\n         title={navitem.title}\n         className=\"date-nav-item-link\">\n         {navitem.name}\n      </a>\n    );\n  }\n\n  _renderLink(navitem){\n    return (_.has(navitem, 'href')) ? this._external(navitem) : this._internal(navitem);\n  }\n\n\n  render(){\n    let navitem = this.props.nav_item;\n    return (\n      <li role=\"presentation\" className={this.state.list}>\n        {this._renderLink(navitem)}\n      </li>\n    );\n  }\n}\n\nObject.assign(TouchNavItem.prototype, cssMixins);\nObject.assign(TouchNavItem.prototype, textMixins);\n// Object.assign(TouchNavItem.prototype, checker);\n\n\nexport default TouchNavItem;\n"]}