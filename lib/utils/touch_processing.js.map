{"version":3,"sources":["../../src/utils/touch_processing.js"],"names":["_","checkMove","st","end","sen","Math","abs","getXY","touch","pageX","pageY","getDir","dir1","dir2","result","touches","sensitivity","start","first","startX","startY","upDown","leftRight","move","addMove","getDirection","endX","endY","moveX","moveY"],"mappings":";;AAAA,OAAOA,CAAP,MAAc,aAAd;;AAGA,SAASC,SAAT,CAAmBC,EAAnB,EAAuBC,GAAvB,EAA4BC,GAA5B,EAAgC;AAC9B,MAAIC,KAAKC,GAAL,CAASJ,KAAKC,GAAd,IAAqBC,GAAzB,EAA8B,OAAO,KAAP;;AAE9B,SAAQF,KAAKC,GAAN,GAAa,CAAb,GAAiB,CAAxB;AACD;;AAED,SAASI,KAAT,CAAeC,KAAf,EAAqB;AACnB,SAAO,CAACA,MAAMC,KAAP,EAAcD,MAAME,KAApB,CAAP;AACD;;AAED,SAASC,MAAT,CAAgBC,IAAhB,EAAsBC,IAAtB,EAA2B;AACzB,SAAO,UAACC,MAAD,EAAU;AACf,QAAIA,WAAW,CAAf,EAAkB,OAAOF,IAAP;AAClB,QAAIE,WAAW,CAAf,EAAkB,OAAOD,IAAP;AAClB,WAAO,EAAP;AACD,GAJD;AAKD;;AAED,eAAe,UAASE,OAAT,EAAiC;AAAA,MAAfC,WAAe,uEAAH,EAAG;;AAC9C,MAAIC,QAAQjB,EAAEkB,KAAF,CAAQH,OAAR,CAAZ;;AAD8C,eAEvBR,MAAMU,KAAN,CAFuB;AAAA;AAAA,MAEzCE,MAFyC;AAAA,MAEjCC,MAFiC;;AAI9C,MAAIC,SAAYV,OAAO,IAAP,EAAa,MAAb,CAAhB;AACA,MAAIW,YAAYX,OAAO,OAAP,EAAgB,MAAhB,CAAhB;AACA,MAAIY,aAAJ;AACA,SAAO;AACLC,WADK,mBACGT,OADH,EACW;AACdQ,aAAOvB,EAAEkB,KAAF,CAAQH,OAAR,CAAP;AACD,KAHI;AAKHU,gBALG,0BAKW;AAAA,oBACKlB,MAAMgB,IAAN,CADL;AAAA;AAAA,UACTG,IADS;AAAA,UACHC,IADG;;AAEd,UAAIC,QAAQN,UAAUrB,UAAUkB,MAAV,EAAkBO,IAAlB,EAAwBV,WAAxB,CAAV,CAAZ;AACA,UAAIa,QAAQR,OAAOpB,UAAUmB,MAAV,EAAkBO,IAAlB,EAAwBX,WAAxB,CAAP,CAAZ;;AAEA,aAAO;AACHY,eAAOA,KADJ;AAEHC,eAAOA;AAFJ,OAAP;AAID;AAdI,GAAP;AAgBD","file":"touch_processing.js","sourcesContent":["import _ from 'lodash/core';\n\n\nfunction checkMove(st, end, sen){\n  if (Math.abs(st - end) < sen) return false;\n\n  return (st > end) ? 1 : 2;\n}\n\nfunction getXY(touch){\n  return [touch.pageX, touch.pageY];\n}\n\nfunction getDir(dir1, dir2){\n  return (result)=>{\n    if (result === 1) return dir1;\n    if (result === 2) return dir2;\n    return '';\n  };\n}\n\nexport default function(touches, sensitivity=10){\n  let start = _.first(touches);\n  let [startX, startY] = getXY(start);\n\n  let upDown    = getDir('up', 'down');\n  let leftRight = getDir('right', 'left');\n  let move;\n  return {\n    addMove(touches){\n      move = _.first(touches);\n    }\n\n    , getDirection(){\n      let [endX, endY] = getXY(move);\n      let moveX = leftRight(checkMove(startX, endX, sensitivity));\n      let moveY = upDown(checkMove(startY, endY, sensitivity));\n\n      return {\n          moveX: moveX\n        , moveY: moveY\n      };\n    }\n  };\n};\n"]}