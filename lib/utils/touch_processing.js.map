{"version":3,"sources":["../../src/utils/touch_processing.js"],"names":[],"mappings":";;;;AAAA,IAAM,CAAC,GAAO,OAAO,CAAC,QAAQ,CAAC,CAAC;;AAGhC,SAAS,SAAS,CAAC,EAAE,EAAE,GAAG,EAAE,GAAG,EAAC;AAC9B,MAAG,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,CAAC,GAAG,GAAG,EAAE,OAAO,KAAK,CAAC;;AAE1C,SAAO,AAAC,EAAE,GAAG,GAAG,GAAI,CAAC,GAAG,CAAC,CAAC;CAC3B;;AAED,SAAS,KAAK,CAAC,KAAK,EAAC;AACnB,SAAO,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,KAAK,CAAC,CAAA;CAClC;;AAED,SAAS,MAAM,CAAC,IAAI,EAAE,IAAI,EAAC;;AAEzB,SAAO,UAAC,MAAM,EAAG;AACf,QAAG,MAAM,KAAK,CAAC,EAAE,OAAO,IAAI,CAAC;AAC7B,QAAG,MAAM,KAAK,CAAC,EAAE,OAAO,IAAI,CAAC;AAC7B,WAAO,EAAE,CAAC;GACX,CAAA;CACF;;AAED,MAAM,CAAC,OAAO,GAAG,UAAS,OAAO,EAAiB;MAAf,WAAW,yDAAC,EAAE;;AAC/C,MAAI,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;;eACN,KAAK,CAAC,KAAK,CAAC;;;;MAA9B,MAAM;MAAE,MAAM;;AAEnB,MAAI,MAAM,GAAM,MAAM,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;AACrC,MAAI,SAAS,GAAG,MAAM,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;AACxC,MAAI,IAAI,YAAA,CAAC;AACT,SAAO;AACL,WAAO,mBAAC,OAAO,EAAC;AACd,UAAI,GAAG,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;KACzB;AAEC,gBAAY,0BAAE;oBACK,KAAK,CAAC,IAAI,CAAC;;;;UAAzB,IAAI;UAAE,IAAI;;AACf,UAAI,KAAK,GAAG,SAAS,CAAC,SAAS,CAAC,MAAM,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC,CAAC;AAC5D,UAAI,KAAK,GAAG,MAAM,CAAC,SAAS,CAAC,MAAM,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC,CAAC;;AAEzD,aAAO;AACH,aAAK,EAAC,KAAK;AACX,aAAK,EAAC,KAAK;OACd,CAAA;KACF;GACF,CAAA;CACF,CAAA","file":"touch_processing.js","sourcesContent":["const _     = require(\"lodash\");\n\n\nfunction checkMove(st, end, sen){\n  if(Math.abs(st - end) < sen) return false;\n\n  return (st > end) ? 1 : 2;\n}\n\nfunction getXY(touch){\n  return [touch.pageX, touch.pageY]\n}\n\nfunction getDir(dir1, dir2){\n\n  return (result)=>{\n    if(result === 1) return dir1;\n    if(result === 2) return dir2;\n    return \"\";\n  }\n}\n\nmodule.exports = function(touches, sensitivity=10){\n  let start = _.first(touches);\n  let [startX, startY] = getXY(start);\n\n  let upDown    = getDir(\"up\", \"down\");\n  let leftRight = getDir(\"right\", \"left\");\n  let move;\n  return {\n    addMove(touches){\n      move = _.first(touches);\n    }\n\n    , getDirection(){\n      let [endX, endY] = getXY(move);\n      let moveX = leftRight(checkMove(startX, endX, sensitivity));\n      let moveY = upDown(checkMove(startY, endY, sensitivity));\n\n      return {\n          moveX:moveX\n        , moveY:moveY\n      }\n    }\n  }\n}"]}