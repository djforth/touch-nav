{"version":3,"sources":["../../src/utils/touch_processing.js"],"names":["touches","sensitivity","start","getXY","startX","startY","upDown","getDir","leftRight","move","addMove","getDirection","endX","endY","moveX","checkMove","moveY","st","end","sen","Math","abs","touch","pageX","pageY","dir1","dir2","result"],"mappings":";;;;;;;;;;;;;;;;;;;oBAqBe,UAASA,OAAT,EAAiC;AAAA,QAAfC,WAAe,uEAAH,EAAG;;AAC9C,QAAIC,QAAQ,qBAAQF,OAAR,CAAZ;;AAD8C,iBAEvBG,MAAMD,KAAN,CAFuB;AAAA;AAAA,QAEzCE,MAFyC;AAAA,QAEjCC,MAFiC;;AAI9C,QAAIC,SAAYC,OAAO,IAAP,EAAa,MAAb,CAAhB;AACA,QAAIC,YAAYD,OAAO,OAAP,EAAgB,MAAhB,CAAhB;AACA,QAAIE,aAAJ;AACA,WAAO;AACLC,aADK,mBACGV,OADH,EACW;AACdS,eAAO,qBAAQT,OAAR,CAAP;AACD,OAHI;AAKHW,kBALG,0BAKW;AAAA,sBACKR,MAAMM,IAAN,CADL;AAAA;AAAA,YACTG,IADS;AAAA,YACHC,IADG;;AAEd,YAAIC,QAAQN,UAAUO,UAAUX,MAAV,EAAkBQ,IAAlB,EAAwBX,WAAxB,CAAV,CAAZ;AACA,YAAIe,QAAQV,OAAOS,UAAUV,MAAV,EAAkBQ,IAAlB,EAAwBZ,WAAxB,CAAP,CAAZ;;AAEA,eAAO;AACHa,iBAAOA,KADJ;AAEHE,iBAAOA;AAFJ,SAAP;AAID;AAdI,KAAP;AAgBD,G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAzCD,WAASD,SAAT,CAAmBE,EAAnB,EAAuBC,GAAvB,EAA4BC,GAA5B,EAAgC;AAC9B,QAAIC,KAAKC,GAAL,CAASJ,KAAKC,GAAd,IAAqBC,GAAzB,EAA8B,OAAO,KAAP;;AAE9B,WAAQF,KAAKC,GAAN,GAAa,CAAb,GAAiB,CAAxB;AACD;;AAED,WAASf,KAAT,CAAemB,KAAf,EAAqB;AACnB,WAAO,CAACA,MAAMC,KAAP,EAAcD,MAAME,KAApB,CAAP;AACD;;AAED,WAASjB,MAAT,CAAgBkB,IAAhB,EAAsBC,IAAtB,EAA2B;AACzB,WAAO,UAACC,MAAD,EAAU;AACf,UAAIA,WAAW,CAAf,EAAkB,OAAOF,IAAP;AAClB,UAAIE,WAAW,CAAf,EAAkB,OAAOD,IAAP;AAClB,aAAO,EAAP;AACD,KAJD;AAKD;;AAyBA","file":"touch_processing.js","sourcesContent":["import _ from 'lodash';\n\n\nfunction checkMove(st, end, sen){\n  if (Math.abs(st - end) < sen) return false;\n\n  return (st > end) ? 1 : 2;\n}\n\nfunction getXY(touch){\n  return [touch.pageX, touch.pageY];\n}\n\nfunction getDir(dir1, dir2){\n  return (result)=>{\n    if (result === 1) return dir1;\n    if (result === 2) return dir2;\n    return '';\n  };\n}\n\nexport default function(touches, sensitivity=10){\n  let start = _.first(touches);\n  let [startX, startY] = getXY(start);\n\n  let upDown    = getDir('up', 'down');\n  let leftRight = getDir('right', 'left');\n  let move;\n  return {\n    addMove(touches){\n      move = _.first(touches);\n    }\n\n    , getDirection(){\n      let [endX, endY] = getXY(move);\n      let moveX = leftRight(checkMove(startX, endX, sensitivity));\n      let moveY = upDown(checkMove(startY, endY, sensitivity));\n\n      return {\n          moveX: moveX\n        , moveY: moveY\n      };\n    }\n  };\n};\n"]}