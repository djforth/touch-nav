{"version":3,"sources":["../../src/utils/touch_processing.js"],"names":[],"mappings":";;;;AAAA,IAAM,IAAQ,QAAQ,aAAR,CAAR;;AAGN,SAAS,SAAT,CAAmB,EAAnB,EAAuB,GAAvB,EAA4B,GAA5B,EAAgC;AAC9B,MAAG,KAAK,GAAL,CAAS,KAAK,GAAL,CAAT,GAAqB,GAArB,EAA0B,OAAO,KAAP,CAA7B;;AAEA,SAAO,EAAC,GAAK,GAAL,GAAY,CAAb,GAAiB,CAAjB,CAHuB;CAAhC;;AAMA,SAAS,KAAT,CAAe,KAAf,EAAqB;AACnB,SAAO,CAAC,MAAM,KAAN,EAAa,MAAM,KAAN,CAArB,CADmB;CAArB;;AAIA,SAAS,MAAT,CAAgB,IAAhB,EAAsB,IAAtB,EAA2B;;AAEzB,SAAO,UAAC,MAAD,EAAU;AACf,QAAG,WAAW,CAAX,EAAc,OAAO,IAAP,CAAjB;AACA,QAAG,WAAW,CAAX,EAAc,OAAO,IAAP,CAAjB;AACA,WAAO,EAAP,CAHe;GAAV,CAFkB;CAA3B;;AASA,OAAO,OAAP,GAAiB,UAAS,OAAT,EAAiC;MAAf,oEAAY,kBAAG;;AAChD,MAAI,QAAQ,EAAE,KAAF,CAAQ,OAAR,CAAR,CAD4C;;eAEzB,MAAM,KAAN,EAFyB;;;;MAE3C,oBAF2C;MAEnC,oBAFmC;;;AAIhD,MAAI,SAAY,OAAO,IAAP,EAAa,MAAb,CAAZ,CAJ4C;AAKhD,MAAI,YAAY,OAAO,OAAP,EAAgB,MAAhB,CAAZ,CAL4C;AAMhD,MAAI,aAAJ,CANgD;AAOhD,SAAO;AACL,8BAAQ,SAAQ;AACd,aAAO,EAAE,KAAF,CAAQ,OAAR,CAAP,CADc;KADX;AAKH,0CAAc;oBACK,MAAM,IAAN,EADL;;;;UACT,kBADS;UACH,kBADG;;AAEd,UAAI,QAAQ,UAAU,UAAU,MAAV,EAAkB,IAAlB,EAAwB,WAAxB,CAAV,CAAR,CAFU;AAGd,UAAI,QAAQ,OAAO,UAAU,MAAV,EAAkB,IAAlB,EAAwB,WAAxB,CAAP,CAAR,CAHU;;AAKd,aAAO;AACH,eAAM,KAAN;AACA,eAAM,KAAN;OAFJ,CALc;KALX;GAAP,CAPgD;CAAjC","file":"touch_processing.js","sourcesContent":["const _     = require(\"lodash/core\");\n\n\nfunction checkMove(st, end, sen){\n  if(Math.abs(st - end) < sen) return false;\n\n  return (st > end) ? 1 : 2;\n}\n\nfunction getXY(touch){\n  return [touch.pageX, touch.pageY]\n}\n\nfunction getDir(dir1, dir2){\n\n  return (result)=>{\n    if(result === 1) return dir1;\n    if(result === 2) return dir2;\n    return \"\";\n  }\n}\n\nmodule.exports = function(touches, sensitivity=10){\n  let start = _.first(touches);\n  let [startX, startY] = getXY(start);\n\n  let upDown    = getDir(\"up\", \"down\");\n  let leftRight = getDir(\"right\", \"left\");\n  let move;\n  return {\n    addMove(touches){\n      move = _.first(touches);\n    }\n\n    , getDirection(){\n      let [endX, endY] = getXY(move);\n      let moveX = leftRight(checkMove(startX, endX, sensitivity));\n      let moveY = upDown(checkMove(startY, endY, sensitivity));\n\n      return {\n          moveX:moveX\n        , moveY:moveY\n      }\n    }\n  }\n}"]}